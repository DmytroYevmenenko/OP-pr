<!DOCTYPE html>
<html>
<head>
    <title>Результати</title>
</head>
<body>
    <h1>Результати</h1>
    
    <a href="index.html">Головна</a>
    
    <div id="result"></div>

    <script>
        let result = localStorage.getItem('lastResult');
        let quizzes = localStorage.getItem('quizzes');

        if (result && quizzes) {
            result = JSON.parse(result);
            quizzes = JSON.parse(quizzes);
            let quiz = quizzes[result.quizId];

            let html = `<h2>${quiz.name}</h2>
                <h3>Результат: ${result.score} з ${result.total}</h3>
                <p>Відсоток: ${Math.round((result.score / result.total) * 100)}%</p>
                
                <h3>Відповіді:</h3>`;

            for (let i = 0; i < quiz.questions.length; i++) {
                let userAnswer = result.answers[i];
                let correctAnswer = quiz.questions[i].correct;
                let isCorrect = userAnswer === correctAnswer;
                
                html += `<div>
                    <p><strong>${i + 1}. ${quiz.questions[i].text}</strong></p>
                    <p style="color: ${isCorrect ? 'green' : 'red'}">
                        Ваша відповідь: ${quiz.questions[i].options[userAnswer]}
                    </p>`;
                if (!isCorrect) {
                    html += `<p style="color: green">
                        Правильно: ${quiz.questions[i].options[correctAnswer]}
                    </p>`;
                }
                html += '</div><br>';
            }

            document.getElementById('result').innerHTML = html;
        }
    </script>
</body>
</html>