<!DOCTYPE html>
<html>
<head>
    <title>Створити вікторину</title>
</head>
<body>
    <h1>Створити вікторину</h1>
    
    <a href="index.html">Головна</a> | 
    <a href="create-quiz.html">Створити вікторину</a>
    
    <div>
        <label>Назва вікторини:</label>
        <input type="text" id="quizName">
    </div>
    
    <div id="questions">
        <h3>Питання 1:</h3>
        <input type="text" id="q1" placeholder="Питання">
        <br>
        <input type="text" id="a1_1" placeholder="Варіант 1">
        <input type="text" id="a1_2" placeholder="Варіант 2">
        <input type="text" id="a1_3" placeholder="Варіант 3">
        <input type="text" id="a1_4" placeholder="Варіант 4">
        <br>
        <label>Правильна відповідь:</label>
        <select id="correct1">
            <option value="0">1</option>
            <option value="1">2</option>
            <option value="2">3</option>
            <option value="3">4</option>
        </select>
    </div>
    
    <button onclick="addQuestion()">+ Додати питання</button>
    <br><br>
    <button onclick="saveQuiz()">Зберегти вікторину</button>

    <script>
        let questionCount = 1;

        function addQuestion() {
            questionCount++;
            let html = `<h3>Питання ${questionCount}:</h3>
                <input type="text" id="q${questionCount}" placeholder="Питання">
                <br>
                <input type="text" id="a${questionCount}_1" placeholder="Варіант 1">
                <input type="text" id="a${questionCount}_2" placeholder="Варіант 2">
                <input type="text" id="a${questionCount}_3" placeholder="Варіант 3">
                <input type="text" id="a${questionCount}_4" placeholder="Варіант 4">
                <br>
                <label>Правильна відповідь:</label>
                <select id="correct${questionCount}">
                    <option value="0">1</option>
                    <option value="1">2</option>
                    <option value="2">3</option>
                    <option value="3">4</option>
                </select>`;
            document.getElementById('questions').innerHTML += html;
        }

        function saveQuiz() {
            let quizName = document.getElementById('quizName').value;
            if (!quizName) {
                alert('Введіть назву вікторини!');
                return;
            }

            let quiz = {
                name: quizName,
                questions: []
            };


            for (let i = 1; i <= questionCount; i++) {
                let question = document.getElementById('q' + i).value;
                let answer1 = document.getElementById('a' + i + '_1').value;
                let answer2 = document.getElementById('a' + i + '_2').value;
                let answer3 = document.getElementById('a' + i + '_3').value;
                let answer4 = document.getElementById('a' + i + '_4').value;

                if (!question || !answer1 || !answer2 || !answer3 || !answer4) {
                    alert(`Заповніть всі поля для питання ${i}!`);
                    return;
                }

                let answers = [answer1, answer2, answer3, answer4];
                let correct = document.getElementById('correct' + i).value;

                quiz.questions.push({
                    text: question,
                    options: answers,
                    correct: parseInt(correct)
                });
            }

            let quizzes = localStorage.getItem('quizzes');
            quizzes = quizzes ? JSON.parse(quizzes) : [];
            quizzes.push(quiz);
            localStorage.setItem('quizzes', JSON.stringify(quizzes));

            alert('Вікторину збережено!');
            window.location.href = 'index.html';
        }
    </script>
</body>
</html> 