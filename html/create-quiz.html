<!DOCTYPE html>
<html>
<head>
    <title>Створити вікторину</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Створити вікторину</h1>
        
        <nav>
            <a href="index.html">Головна</a>
            <a href="create-quiz.html">Створити вікторину</a>
        </nav>
        
        <div class="form-group">
            <label>Назва вікторини:</label>
            <input type="text" id="quizName" placeholder="Введіть назву вікторини">
        </div>
        
        <div id="questions">
            <div class="question-block">
                <h3>Питання 1:</h3>
                <input type="text" id="q1" placeholder="Питання">
                <div class="answers-container">
                    <input type="text" id="a1_1" placeholder="Варіант 1">
                    <input type="text" id="a1_2" placeholder="Варіант 2">
                    <input type="text" id="a1_3" placeholder="Варіант 3">
                    <input type="text" id="a1_4" placeholder="Варіант 4">
                </div>
                <div class="form-group">
                    <label>Правильна відповідь:</label>
                    <select id="correct1">
                        <option value="0">Варіант 1</option>
                        <option value="1">Варіант 2</option>
                        <option value="2">Варіант 3</option>
                        <option value="3">Варіант 4</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="text-center">
            <button onclick="addQuestion()" class="btn btn-primary">+ Додати питання</button>
            <br><br>
            <button onclick="saveQuiz()" class="btn btn-success">Зберегти вікторину</button>
        </div>
    </div>

    <script>
        let questionCount = 1;

        function addQuestion() {
            questionCount++;
            let html = `<div class="question-block">
                <h3>Питання ${questionCount}:</h3>
                <input type="text" id="q${questionCount}" placeholder="Питання">
                <div class="answers-container">
                    <input type="text" id="a${questionCount}_1" placeholder="Варіант 1">
                    <input type="text" id="a${questionCount}_2" placeholder="Варіант 2">
                    <input type="text" id="a${questionCount}_3" placeholder="Варіант 3">
                    <input type="text" id="a${questionCount}_4" placeholder="Варіант 4">
                </div>
                <div class="form-group">
                    <label>Правильна відповідь:</label>
                    <select id="correct${questionCount}">
                        <option value="0">Варіант 1</option>
                        <option value="1">Варіант 2</option>
                        <option value="2">Варіант 3</option>
                        <option value="3">Варіант 4</option>
                    </select>
                </div>
            </div>`;
            document.getElementById('questions').innerHTML += html;
        }

        function saveQuiz() {
            let quizName = document.getElementById('quizName').value;
            if (!quizName) {
                alert('Введіть назву вікторини!');
                return;
            }

            let quiz = {
                name: quizName,
                questions: []
            };

            for (let i = 1; i <= questionCount; i++) {
                let question = document.getElementById('q' + i).value;
                let answer1 = document.getElementById('a' + i + '_1').value;
                let answer2 = document.getElementById('a' + i + '_2').value;
                let answer3 = document.getElementById('a' + i + '_3').value;
                let answer4 = document.getElementById('a' + i + '_4').value;

                if (!question || !answer1 || !answer2 || !answer3 || !answer4) {
                    alert(`Заповніть всі поля для питання ${i}!`);
                    return;
                }

                let answers = [answer1, answer2, answer3, answer4];
                let correct = document.getElementById('correct' + i).value;

                quiz.questions.push({
                    text: question,
                    options: answers,
                    correct: parseInt(correct)
                });
            }

            let quizzes = localStorage.getItem('quizzes');
            quizzes = quizzes ? JSON.parse(quizzes) : [];
            quizzes.push(quiz);
            localStorage.setItem('quizzes', JSON.stringify(quizzes));

            alert('Вікторину збережено!');
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>